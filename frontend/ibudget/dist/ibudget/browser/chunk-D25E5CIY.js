import{a as ye}from"./chunk-DZECKHGY.js";import{b as y,c as I}from"./chunk-I2VHBQM2.js";import{a as we}from"./chunk-RZU52TYJ.js";import{d as Ce,e as Me}from"./chunk-6ODX6TS2.js";import"./chunk-HPCBQTSM.js";import"./chunk-NYHJAWNZ.js";import{a as U,b as x,c as q,d as Y,f as Te,g as J,h as K,i as X,j as Z,k as ee,l as te,m as ne,n as ie,q as ae,r as xe,s as oe}from"./chunk-R4J5TFSL.js";import{a as W}from"./chunk-H4HKKKHV.js";import{B as G,C as be,b as _e,e as ve,f as fe,h as he,p as Se,z as R}from"./chunk-OQ6H4KVU.js";import{$a as F,$b as ue,Cb as E,Fb as p,Gb as c,Ib as C,Jb as M,Kb as w,La as l,Ob as $,P as Q,Pb as r,Qb as L,Rb as h,Sb as ce,U as T,Z as g,Zb as me,_ as u,_b as ge,ac as O,cc as P,ha as f,j as D,kc as A,lc as pe,n as N,nb as _,nc as z,ob as v,oc as B,pb as de,rb as H,sb as j,tb as S,ub as i,vb as a,wb as m}from"./chunk-DFJZCQ6A.js";import"./chunk-DAQOROHW.js";var V=class o{STATIC_HISTORY=[{id:1,savings_id:1,user_id:1,transaction_date:"2025-11-20",savings_action:"Deposit",description:"Remaining Allowance",amount:300,created_at:"2025-11-20",updated_at:"2025-11-20",deleted_at:""},{id:2,savings_id:1,user_id:1,transaction_date:"2025-11-20",savings_action:"Deposit",description:"Remaining Allowance",amount:100,created_at:"2025-11-20",updated_at:"2025-11-20",deleted_at:""},{id:3,savings_id:2,user_id:1,transaction_date:"2025-11-21",savings_action:"Deposit",description:"Remaining Allowance",amount:100,created_at:"2025-11-21",updated_at:"2025-11-21",deleted_at:""},{id:4,savings_id:2,user_id:1,transaction_date:"2025-11-22",savings_action:"Withdrawal",description:"Remaining Allowance",amount:100,created_at:"2025-11-22",updated_at:"2025-11-22",deleted_at:""},{id:5,savings_id:4,user_id:1,transaction_date:"2025-11-25",savings_action:"Deposit",description:"Income from Work",amount:200,created_at:"2025-11-25",updated_at:"2025-11-25",deleted_at:""}];getStaticHistory(){return D(this.STATIC_HISTORY)}getSavingTransactionsBySavingId(t,e){let n=this.STATIC_HISTORY.filter(s=>s.savings_id===t&&s.id===e);return D(n)}addSavingTransaction(t){return this.STATIC_HISTORY=[...this.STATIC_HISTORY,t],D(t)}updateSavingTransaction(t,e,n){let s=this.STATIC_HISTORY.findIndex(d=>d.savings_id===t&&d.id===e);if(s!==-1)return this.STATIC_HISTORY[s]=n,D(n);throw new Error("Transaction not found")}deleteSavingTransaction(t,e){return this.STATIC_HISTORY=this.STATIC_HISTORY.filter(n=>!(n.savings_id===t&&n.id===e)),D(this.STATIC_HISTORY)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})};var k=class o{apiUrl=`${W.apiUrl}/savings`;http=T(Se);toFrontend(t){return{id:t.id,savings_id:t.savingId,user_id:t.userId,transaction_date:t.transactionDate,savings_action:t.savingsAction,description:t.description,amount:t.amount,created_at:t.createdAt,updated_at:t.updatedAt,deleted_at:t.deletedAt}}toBackend(t){return{savingId:t.savings_id,userId:t.user_id,transactionDate:t.transaction_date,savingsAction:t.savings_action,description:t.description,amount:t.amount}}getSavingTransactions(){return this.http.get(`${this.apiUrl}/transactions`).pipe(N(t=>t.map(this.toFrontend)))}getSavingTransactionById(t){return this.http.get(`${this.apiUrl}/${t}/transactions`).pipe(N(e=>e.map(this.toFrontend)))}addSavingTransaction(t,e){let n=this.toBackend(e);return this.http.post(`${this.apiUrl}/${t}/transactions`,n).pipe(N(this.toFrontend))}getSavingTransactionByTransactionId(t,e){return this.http.get(`${this.apiUrl}/${t}/transactions/${e}`).pipe(N(this.toFrontend))}updateSavingTransaction(t,e,n){let s=this.toBackend(n);return this.http.put(`${this.apiUrl}/${t}/transactions/${e}`,s).pipe(N(this.toFrontend))}deleteSavingTransaction(t,e){return this.http.delete(`${this.apiUrl}/${t}/transactions/${e}`)}deleteMultipleSavingTransactions(t,e){return this.http.delete(`${this.apiUrl}/transactions`,{body:e})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})};var Ie=["addSavingTransactionModal"],Ve=["openSavingTransactionModalBtn"];function ke(o,t){o&1&&(i(0,"div",28),r(1," Transaction Type is required. "),a())}function De(o,t){if(o&1&&_(0,ke,2,0,"div",28),o&2){let e,n=c();v(!((e=n.transactionForm.get("savings_action"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Ne(o,t){o&1&&(i(0,"div",28),r(1," Amount is required. "),a())}function Fe(o,t){o&1&&(i(0,"div",28),r(1," Amount must be at least 0.01. "),a())}function Ae(o,t){if(o&1&&_(0,Ne,2,0,"div",28)(1,Fe,2,0,"div",28),o&2){let e,n=c();v(!((e=n.transactionForm.get("amount"))==null||e.errors==null)&&e.errors.required?0:!((e=n.transactionForm.get("amount"))==null||e.errors==null)&&e.errors.min?1:-1)}}function Be(o,t){o&1&&(i(0,"div",28),r(1," Transaction Date is required. "),a())}function Re(o,t){if(o&1&&_(0,Be,2,0,"div",28),o&2){let e,n=c();v(!((e=n.transactionForm.get("transaction_date"))==null||e.errors==null)&&e.errors.required?0:-1)}}var se=class o{addSavingTransactionModal;openSavingTransactionModalBtn;transactionForm;formBuilder=T(ae);activatedRoute=T(R);historyService=T(V);router=T(G);savingTransactionService=T(k);transactionsLength=B(0);addedTransaction=z();tempUserId=f(1);savingId=f(1);transactionId=f(0);date=f(new Date().toISOString().split("T")[0]);isDisabled=B(!1);constructor(){this.transactionForm=this.formBuilder.group({saving_id:[""],amount:[0,{validators:[x.required]}],savings_action:["",{validators:[x.required]}],transaction_date:["",{validators:[x.required]}],description:[""]})}ngOnInit(){let t=this.activatedRoute.snapshot.paramMap.get("id")??"";this.savingId.set(+t),this.transactionForm=this.formBuilder.group({savings_id:[+t],amount:[0,{validators:[x.required,x.min(.01)]}],savings_action:["",{validators:[x.required]}],transaction_date:[this.date(),{validators:[x.required]}],description:[""]})}openModal(){let t=new y(this.addSavingTransactionModal.nativeElement),e=this.transactionsLength()+1;this.transactionId.set(e),this.transactionForm.patchValue({savings_id:this.savingId()}),t.show()}closeModal(){y.getInstance(this.addSavingTransactionModal.nativeElement)?.hide(),this.transactionForm.reset({savings_id:this.savingId(),amount:0,savings_action:"",transaction_date:this.date(),description:""}),this.openSavingTransactionModalBtn.nativeElement.focus()}addSavingTransaction(){let t=this.transactionForm.value;if(this.transactionForm.invalid){this.transactionForm.markAllAsTouched();return}this.savingTransactionService.addSavingTransaction(this.savingId(),t).subscribe({next:e=>{this.addedTransaction.emit(e),this.closeModal()},error:e=>{console.error("Error adding transaction:",e),this.closeModal()}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=F({type:o,selectors:[["app-add-saving-transaction"]],viewQuery:function(e,n){if(e&1&&(C(Ie,5),C(Ve,5)),e&2){let s;M(s=w())&&(n.addSavingTransactionModal=s.first),M(s=w())&&(n.openSavingTransactionModalBtn=s.first)}},inputs:{transactionsLength:[1,"transactionsLength"],isDisabled:[1,"isDisabled"]},outputs:{addedTransaction:"addedTransaction"},decls:44,vars:5,consts:[["addSavingTransactionModal",""],["openSavingTransactionModalBtn",""],["data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","fs-5"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],["for","savings_action"],["formControlName","savings_action","id","savings_action",1,"form-select","mb-3"],["value","","selected","","disabled",""],["value","Deposit"],["value","Withdrawal"],["for","amount"],[1,"input-group","mb-3"],[1,"input-group-text","fw-bold"],["formControlName","amount","id","amount","type","number","min","0",1,"form-control"],["for","transaction_date"],["formControlName","transaction_date","id","transaction_date","type","date",1,"form-control","mb-3"],["for","description"],["formControlName","description","id","description","rows","3",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-sm","btn-primary","add-saving-transaction-btn",3,"click","disabled"],[1,"bi","bi-plus"],[1,"text-danger","mb-3"]],template:function(e,n){if(e&1){let s=E();i(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h1",6),r(6,"Add Saving Transaction"),a(),i(7,"button",7),p("click",function(){return g(s),u(n.closeModal())}),a()(),i(8,"div",8)(9,"form",9)(10,"div")(11,"label",10),r(12,"Transaction Type"),a(),i(13,"select",11)(14,"option",12),r(15,"-- Select Transaction Type --"),a(),i(16,"option",13),r(17,"Deposit"),a(),i(18,"option",14),r(19,"Withdrawal"),a()(),_(20,De,1,1),a(),i(21,"label",15),r(22,"Amount"),a(),i(23,"div",16)(24,"span",17),r(25,"\u20B1"),a(),m(26,"input",18),a(),_(27,Ae,2,1),i(28,"label",19),r(29,"Transaction Date"),a(),m(30,"input",20),_(31,Re,1,1),i(32,"label",21),r(33,"Description"),a(),m(34,"textarea",22),a()(),i(35,"div",23)(36,"button",24),p("click",function(){return g(s),u(n.closeModal())}),r(37," Close "),a(),i(38,"button",25),p("click",function(){return g(s),u(n.addSavingTransaction())}),r(39,"Add Transaction"),a()()()()(),i(40,"button",26,1),p("click",function(){return g(s),u(n.openModal())}),m(42,"i",27),r(43,` Add Saving Transaction
`),a()}if(e&2){let s,d,b;l(9),S("formGroup",n.transactionForm),l(11),v((s=n.transactionForm.get("savings_action"))!=null&&s.touched&&((s=n.transactionForm.get("savings_action"))!=null&&s.invalid)?20:-1),l(7),v((d=n.transactionForm.get("amount"))!=null&&d.touched&&((d=n.transactionForm.get("amount"))!=null&&d.invalid)?27:-1),l(4),v((b=n.transactionForm.get("transaction_date"))!=null&&b.touched&&((b=n.transactionForm.get("transaction_date"))!=null&&b.invalid)?31:-1),l(9),S("disabled",n.isDisabled())}},dependencies:[oe,J,te,ne,U,K,ee,q,Y,ie,X,Z],styles:["button.add-saving-transaction-btn[_ngcontent-%COMP%]{font-size:12px}"]})};var Ue=["updateSavingTransactionModal"];function qe(o,t){o&1&&(i(0,"div",25),r(1," Transaction Type is required. "),a())}function $e(o,t){if(o&1&&_(0,qe,2,0,"div",25),o&2){let e,n=c();v(!((e=n.transactionForm.get("savings_action"))==null||e.errors==null)&&e.errors.required?0:-1)}}function Le(o,t){o&1&&(i(0,"div",25),r(1," Amount is required. "),a())}function Qe(o,t){o&1&&(i(0,"div",25),r(1," Amount must be at least 0.01. "),a())}function He(o,t){if(o&1&&_(0,Le,2,0,"div",25)(1,Qe,2,0,"div",25),o&2){let e,n=c();v(!((e=n.transactionForm.get("amount"))==null||e.errors==null)&&e.errors.required?0:!((e=n.transactionForm.get("amount"))==null||e.errors==null)&&e.errors.min?1:-1)}}function je(o,t){o&1&&(i(0,"div",25),r(1," Transaction Date is required. "),a())}function ze(o,t){if(o&1&&_(0,je,2,0,"div",25),o&2){let e,n=c();v(!((e=n.transactionForm.get("transaction_date"))==null||e.errors==null)&&e.errors.required?0:-1)}}var le=class o{updateSavingTransactionModal;transactionForm;formBuilder=T(ae);activatedRoute=T(R);historyService=T(V);savingTransactionService=T(k);transactionsLength=B(0);updatedTransaction=z();tempUserId=f(1);savingId=f(1);transactionId=B(0);date=f(new Date().toISOString().split("T")[0]);constructor(){this.transactionForm=this.formBuilder.group({transaction_id:[""],saving_id:[""],user_id:[""],amount:[0,{validators:[x.required]}],savings_action:["",{validators:[x.required]}],transaction_date:["",{validators:[x.required]}],description:[""]})}ngOnInit(){let t=this.transactionId(),e=this.activatedRoute.snapshot.paramMap.get("id")??"";this.savingId.set(+e),this.transactionForm=this.formBuilder.group({transaction_id:[t],savings_id:[+e],amount:[0,{validators:[x.required]}],savings_action:["",{validators:[x.required]}],transaction_date:["",{validators:[x.required]}],description:[""]})}openModal(){y.getOrCreateInstance(this.updateSavingTransactionModal.nativeElement).show()}closeModal(){y.getInstance(this.updateSavingTransactionModal.nativeElement)?.hide(),this.transactionForm.reset()}openUpdateModalWithData(t){let e=t??this.transactionId();e&&(this.openModal(),this.savingTransactionService.getSavingTransactionByTransactionId(this.savingId(),e).subscribe({next:n=>{this.transactionForm.patchValue({transaction_id:n.id,savings_id:n.savings_id,user_id:n.user_id,amount:n.amount,savings_action:n.savings_action,transaction_date:n.transaction_date?.split("T")[0],description:n.description})}}))}updateTransaction(){if(this.transactionForm.invalid){this.transactionForm.markAllAsTouched();return}this.savingTransactionService.updateSavingTransaction(this.savingId(),this.transactionForm.value.transaction_id,this.transactionForm.value).subscribe({next:t=>{this.updatedTransaction.emit(t),this.closeModal()},error:t=>{console.error("Error updating transaction:",t),this.closeModal()}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=F({type:o,selectors:[["app-update-saving-transaction"]],viewQuery:function(e,n){if(e&1&&C(Ue,5),e&2){let s;M(s=w())&&(n.updateSavingTransactionModal=s.first)}},inputs:{transactionsLength:[1,"transactionsLength"],transactionId:[1,"transactionId"]},outputs:{updatedTransaction:"updatedTransaction"},decls:39,vars:4,consts:[["updateSavingTransactionModal",""],["data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","fs-5"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],["for","savings_action"],["formControlName","savings_action","id","savings_action",1,"form-select","mb-3"],["selected","","disabled",""],["value","Deposit"],["value","Withdrawal"],["for","amount"],[1,"input-group","mb-3"],[1,"input-group-text","fw-bold"],["formControlName","amount","id","amount","type","number","min","0",1,"form-control"],["for","transaction_date"],["formControlName","transaction_date","id","transaction_date","type","date",1,"form-control","mb-3"],["for","description"],["formControlName","description","id","description","rows","3",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"text-danger","mb-3"]],template:function(e,n){if(e&1){let s=E();i(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),r(6,"Update Saving Transaction"),a(),i(7,"button",6),p("click",function(){return g(s),u(n.closeModal())}),a()(),i(8,"div",7)(9,"form",8)(10,"label",9),r(11,"Transaction Type"),a(),i(12,"select",10)(13,"option",11),r(14,"-- Select Transaction Type --"),a(),i(15,"option",12),r(16,"Deposit"),a(),i(17,"option",13),r(18,"Withdrawal"),a()(),_(19,$e,1,1),i(20,"label",14),r(21,"Amount"),a(),i(22,"div",15)(23,"span",16),r(24,"\u20B1"),a(),m(25,"input",17),a(),_(26,He,2,1),i(27,"label",18),r(28,"Transaction Date"),a(),m(29,"input",19),_(30,ze,1,1),i(31,"label",20),r(32,"Description"),a(),m(33,"textarea",21),a()(),i(34,"div",22)(35,"button",23),p("click",function(){return g(s),u(n.closeModal())}),r(36," Close "),a(),i(37,"button",24),p("click",function(){return g(s),u(n.updateTransaction())}),r(38,"Update Transaction"),a()()()()()}if(e&2){let s,d,b;l(9),S("formGroup",n.transactionForm),l(10),v((s=n.transactionForm.get("savings_action"))!=null&&s.touched&&((s=n.transactionForm.get("savings_action"))!=null&&s.invalid)?19:-1),l(7),v((d=n.transactionForm.get("amount"))!=null&&d.touched&&((d=n.transactionForm.get("amount"))!=null&&d.invalid)?26:-1),l(4),v((b=n.transactionForm.get("transaction_date"))!=null&&b.touched&&((b=n.transactionForm.get("transaction_date"))!=null&&b.invalid)?30:-1)}},dependencies:[oe,J,te,ne,U,K,ee,q,Y,ie,X,Z],encapsulation:2})};var Ge=["viewSavingToast"],We=["deleteSavingModal"],Ye=["deleteSavingModalBtn"],Je=["deleteSavingTransactionModal"],Ke=["deleteTransactionBtn"],Xe=["deleteSelectedTransactionsModal"],Ze=["deleteSelectedTransactionsBtn"],et=["updateTransactionModal"],tt=o=>["/savings/update-saving",o],nt=(o,t)=>({"fas fa-check-circle":o,"bi bi-x-circle-fill":t}),it=()=>[1,2],at=(o,t)=>t.id;function ot(o,t){o&1&&(i(0,"div",17),m(1,"div",56),a())}function rt(o,t){o&1&&(i(0,"div",57)(1,"div",58),m(2,"span",59)(3,"span",60),a(),i(4,"div",58),m(5,"span",59)(6,"span",60),a(),i(7,"div",58),m(8,"span",59)(9,"span",60),a(),i(10,"div",58),m(11,"span",59)(12,"span",60),a()(),i(13,"div",61),m(14,"span",62),a())}function st(o,t){o&1&&(i(0,"p"),r(1,"Goal date has passed or no remaining amount."),a())}function lt(o,t){if(o&1&&(i(0,"p"),r(1),O(2,"number"),a()),o&2){let e=c(3);l(),h("\u20B1 ",P(2,1,e.getMonthlySavingsNeeded(),"1.0-0")," per month")}}function dt(o,t){if(o&1&&(i(0,"div",81),m(1,"i",82),i(2,"label",83),r(3,"Monthly Saving Needed"),a(),_(4,st,2,0,"p")(5,lt,3,4,"p"),a()),o&2){let e=c(2);l(4),v(e.getMonthlySavingsNeeded()===0?4:5)}}function ct(o,t){o&1&&(i(0,"p"),r(1,"Goal date has passed or no remaining amount."),a())}function mt(o,t){if(o&1&&(i(0,"p"),r(1),O(2,"number"),a()),o&2){let e=c(3);l(),h("\u20B1 ",P(2,1,e.getWeeklySavingsNeeded(),"1.0-0")," per week")}}function gt(o,t){if(o&1&&(i(0,"div",81),m(1,"i",82),i(2,"label",83),r(3,"Weekly Saving Needed"),a(),_(4,ct,2,0,"p")(5,mt,3,4,"p"),a()),o&2){let e=c(2);l(4),v(e.getWeeklySavingsNeeded()===0?4:5)}}function ut(o,t){o&1&&(i(0,"p"),r(1,"Goal date has passed or no remaining amount."),a())}function pt(o,t){if(o&1&&(i(0,"p"),r(1),O(2,"number"),a()),o&2){let e=c(3);l(),h("\u20B1 ",P(2,1,e.getDailySavingsNeeded(),"1.0-0")," per day")}}function _t(o,t){if(o&1&&(i(0,"div",81),m(1,"i",84),i(2,"label",83),r(3,"Daily Saving Needed"),a(),_(4,ut,2,0,"p")(5,pt,3,4,"p"),a()),o&2){let e=c(2);l(4),v(e.getDailySavingsNeeded()===0?4:5)}}function vt(o,t){if(o&1&&(i(0,"div",63)(1,"div",64)(2,"label",65),r(3,"Current Amount"),a(),i(4,"span"),r(5),O(6,"number"),a()(),i(7,"div",66)(8,"label",65),r(9,"Target Amount"),a(),i(10,"span"),r(11),O(12,"number"),a()(),i(13,"div",67)(14,"label",65),r(15,"Remaining"),a(),i(16,"span"),r(17),O(18,"number"),a()(),i(19,"div",68)(20,"label",65),r(21,"Progress"),a(),i(22,"span",69),r(23),a()()(),i(24,"div",70),m(25,"app-saving-progress",71),a(),i(26,"div",72)(27,"div",73),m(28,"i",74),i(29,"label",75),r(30,"Description"),a(),i(31,"p"),r(32),a()(),i(33,"div",76),m(34,"i",77),i(35,"label",78),r(36,"Started on"),a(),i(37,"p"),r(38),O(39,"date"),a()(),i(40,"div",79),m(41,"i",77),i(42,"label",80),r(43,"Goal Date"),a(),i(44,"p"),r(45),O(46,"date"),a()(),_(47,dt,6,1,"div",81)(48,gt,6,1,"div",81)(49,_t,6,1,"div",81),a()),o&2){let e=c();l(5),h("\u20B1",P(6,9,e.currentSaving().current_amount,"1.0-0")),l(6),h("\u20B1",P(12,12,e.currentSaving().target_amount,"1.0-0")),l(6),h(" \u20B1",P(18,15,e.remainingAmount(),"1.0-0")," "),l(6),h(" ",e.getProgressPercentage(e.currentSaving()),"% "),l(2),S("progressPercentage",e.getProgressPercentage(e.currentSaving())),l(7),h(" ",e.currentSaving().description||"No description available."," "),l(6),L(P(39,18,e.dateStarted(),"mediumDate")),l(7),L(P(46,21,e.currentSaving().goal_date,"mediumDate")),l(2),v(e.currentSaving().frequency==="Monthly"?47:e.currentSaving().frequency==="Weekly"?48:49)}}function ft(o,t){o&1&&(i(0,"div",33),m(1,"i",85),i(2,"div"),r(3," Select the transactions you want to delete by checking the boxes beside the dates. "),a()())}function ht(o,t){o&1&&(i(0,"tr")(1,"td"),m(2,"span",87),a(),i(3,"td"),m(4,"span",88),a(),i(5,"td"),m(6,"span",89),a(),i(7,"td"),m(8,"span",90),a(),i(9,"td"),m(10,"span",91),a()())}function St(o,t){o&1&&(i(0,"table",35)(1,"thead")(2,"tr",86)(3,"th"),r(4,"Date"),a(),i(5,"th"),r(6,"Type"),a(),i(7,"th"),r(8,"Amount"),a(),i(9,"th"),r(10,"Description"),a(),i(11,"th"),r(12,"Actions"),a()()(),i(13,"tbody"),H(14,ht,11,0,"tr",null,de),a()()),o&2&&(l(14),j(me(0,it)))}function bt(o,t){o&1&&(i(0,"tr")(1,"td",92)(2,"div",93),m(3,"i",94),i(4,"p",11),r(5,"No transaction history available yet."),a(),i(6,"small"),r(7,"Start adding transactions to track your progress!"),a()()()())}function Tt(o,t){if(o&1){let e=E();i(0,"input",100),p("change",function(s){g(e);let d=c().$implicit,b=c(3);return u(b.checkSelectedTransaction(s,d.id))}),a(),r(1," \xA0 ")}if(o&2){let e=c().$implicit,n=c(3);S("value",e.id)("checked",n.selectedTransactionIds().includes(e.id))}}function xt(o,t){if(o&1&&(i(0,"td",95),m(1,"i",101),r(2),a()),o&2){let e=c().$implicit;l(2),h(" ",e.savings_action," ")}}function Ct(o,t){if(o&1&&(i(0,"td",69),m(1,"i",102),r(2),a()),o&2){let e=c().$implicit;l(2),h(" ",e.savings_action," ")}}function Mt(o,t){if(o&1&&(i(0,"td"),r(1),a()),o&2){let e=c().$implicit;l(),h(" ",e.savings_action," ")}}function wt(o,t){if(o&1){let e=E();i(0,"tr")(1,"td"),_(2,Tt,2,2),r(3),O(4,"date"),a(),_(5,xt,3,1,"td",95)(6,Ct,3,1,"td",69)(7,Mt,2,1,"td"),i(8,"td",96),r(9),a(),i(10,"td",96),r(11),a(),i(12,"td",97)(13,"button",98),p("click",function(){let s=g(e).$implicit,d=c(3);return u(d.openUpdateTransactionModal(s.id))}),m(14,"i",14),a(),i(15,"button",99,7),p("click",function(){let s=g(e).$implicit,d=c(3);return u(d.openDeleteTransactionModal(s.id))}),m(17,"i",16),a()()()}if(o&2){let e=t.$implicit,n=c(3);l(2),v(n.isSelectMode()?2:-1),l(),h(" ",P(4,7,e.transaction_date,"mediumDate")," "),l(2),v(e.savings_action==="Deposit"?5:e.savings_action==="Withdrawal"?6:7),l(4),h(" \u20B1 ",e.amount.toFixed(2)," "),l(2),h(" ",e.description||"N/A"," "),l(2),S("disabled",n.isSavingComplete()),l(2),S("disabled",n.isSavingComplete())}}function yt(o,t){if(o&1&&H(0,wt,18,10,"tr",null,at),o&2){let e=c(2);j(e.paginatedTransactions())}}function Et(o,t){if(o&1&&(i(0,"table",36)(1,"thead")(2,"tr",86)(3,"th"),r(4,"Date"),a(),i(5,"th"),r(6,"Type"),a(),i(7,"th"),r(8,"Amount"),a(),i(9,"th"),r(10,"Description"),a(),i(11,"th"),r(12,"Actions"),a()()(),i(13,"tbody"),_(14,bt,8,0,"tr"),_(15,yt,2,0),a()()),o&2){let e=c();l(14),v(e.filteredTransactions().length===0?14:-1),l(),v(e.filteredTransactions().length>0?15:-1)}}function Ot(o,t){if(o&1){let e=E();i(0,"nav",37)(1,"button",103),p("click",function(){g(e);let s=c();return u(s.prevPage())}),r(2,"Prev"),a(),i(3,"span",104),r(4),a(),i(5,"button",103),p("click",function(){g(e);let s=c();return u(s.nextPage())}),r(6,"Next"),a()()}if(o&2){let e=c();l(),S("disabled",e.currentPage()===1),l(3),ce(" Page ",e.currentPage()," of ",e.pageCount()," "),l(),S("disabled",e.currentPage()===e.pageCount())}}function Pt(o,t){o&1&&(i(0,"ol")(1,"p",105),r(2," No transaction history available. "),a()())}function It(o,t){if(o&1){let e=E();i(0,"input",100),p("change",function(s){g(e);let d=c().$implicit,b=c(2);return u(b.checkSelectedTransaction(s,d.id))}),a(),r(1," \xA0 ")}if(o&2){let e=c().$implicit,n=c(2);S("value",e.id)("checked",n.selectedTransactionIds().includes(e.id))}}function Vt(o,t){if(o&1&&(i(0,"p",113),r(1),a()),o&2){let e=c().$implicit;l(),h(" + \u20B1 ",e.amount.toFixed(2)," ")}}function kt(o,t){if(o&1&&(i(0,"p",114),r(1),a()),o&2){let e=c().$implicit;l(),h(" - \u20B1 ",e.amount.toFixed(2)," ")}}function Dt(o,t){if(o&1&&(i(0,"p",115),r(1),a()),o&2){let e=c().$implicit;l(),h(" \u20B1 ",e.amount.toFixed(2)," ")}}function Nt(o,t){if(o&1){let e=E();i(0,"li",18)(1,"div",106)(2,"div",107)(3,"div",108),_(4,It,2,2),i(5,"h6",109),r(6),O(7,"date"),a()(),i(8,"i",110),p("click",function(){let s=g(e).$implicit,d=c(2);return u(d.toggleDropdown(s.id))}),a()(),i(9,"p",111),r(10),a(),i(11,"div")(12,"button",98),p("click",function(){let s=g(e).$implicit,d=c(2);return u(d.openUpdateTransactionModal(s.id))}),r(13," Edit "),a(),i(14,"button",99,7),p("click",function(){let s=g(e).$implicit,d=c(2);return u(d.openDeleteTransactionModal(s.id))}),r(16," Delete "),a()(),i(17,"div",112),_(18,Vt,2,1,"p",113)(19,kt,2,1,"p",114)(20,Dt,2,1,"p",115),a()()()}if(o&2){let e=t.$implicit,n=c(2);l(4),v(n.isSelectMode()?4:-1),l(2),h(" ",P(7,8,e.transaction_date,"mediumDate")," "),l(4),h(" ",e.description||"N/A"," "),l(),$("actions-dropdown"+(n.showDropdown()===e.id?"":" hide")),l(),S("disabled",n.isSavingComplete()),l(2),S("disabled",n.isSavingComplete()),l(4),v(e.savings_action==="Deposit"?18:e.savings_action==="Withdrawal"?19:20)}}function Ft(o,t){if(o&1&&H(0,Nt,21,11,"li",18,de),o&2){let e=c();j(e.paginatedTransactions())}}var Pe=class o{viewSavingToast;deleteSavingModal;deleteSavingModalBtn;deleteSavingTransactionModal;deleteTransactionBtn;deleteSelectedTransactionsModal;deleteSelectedTransactionsBtn;updateTransactionModal;isSelectMode=f(!1);selectMode=A(()=>this.isSelectMode());toggleSelectMode(){this.isSelectMode.set(!this.isSelectMode()),this.isSelectMode()||this.selectedTransactionIds.set([])}showDropdown=f(null);toggleDropdown(t){this.showDropdown()===t?this.showDropdown.set(null):this.showDropdown.set(t)}openUpdateTransactionModal(t){this.updateTransactionModal.openUpdateModalWithData(t),this.showDropdown.set(null)}selectedTransactionIds=f([]);checkSelectedTransaction(t,e){let n=t.target.checked,s=this.selectedTransactionIds();n?this.selectedTransactionIds.set([...s,e]):this.selectedTransactionIds.set(s.filter(d=>d!==e)),W.production||console.log("Selected Transactions:",this.selectedTransactionIds())}openDeleteSelectedModal(){if(this.selectedTransactionIds().length===0)return;new y(this.deleteSelectedTransactionsModal.nativeElement).show()}closeDeleteSelectedModal(){y.getInstance(this.deleteSelectedTransactionsModal.nativeElement)?.hide(),this.deleteSelectedTransactionsBtn.nativeElement.focus()}confirmDeleteSelectedTransactions(){this.savingTransactionService.deleteMultipleSavingTransactions(this.savingId(),this.selectedTransactionIds()).subscribe({next:()=>{this.allTransactions.update(e=>e.filter(n=>!this.selectedTransactionIds().includes(n.id))),this.selectedTransactionIds.set([]),this.refreshCurrentAmount(),this.closeDeleteSelectedModal(),this.toastMessage.set("Transactions deleted successfully!"),this.toastType.set("success");let t=I.getOrCreateInstance(this.viewSavingToast.nativeElement);t.show(),setTimeout(()=>t.hide(),3e3)},error:t=>{console.error("Failed to delete transactions",t),this.closeDeleteSelectedModal(),this.toastMessage.set("Failed to delete transactions. Please try again."),this.toastType.set("error");let e=I.getOrCreateInstance(this.viewSavingToast.nativeElement);e.show(),setTimeout(()=>e.hide(),3e3)}})}allTransactions=f([]);transactionsCount=A(()=>this.allTransactions().length);searchTransactionQuery=f("");filteredTransactions=A(()=>{let t=this.searchTransactionQuery().toLowerCase();return t?this.allTransactions().filter(e=>e.description.toLowerCase().includes(t)):this.allTransactions()});pageSize=5;currentPage=f(1);pageCount=A(()=>Math.max(1,Math.ceil(this.filteredTransactions().length/this.pageSize)));paginatedTransactions=A(()=>{let t=(this.currentPage()-1)*this.pageSize,e=t+this.pageSize;return this.filteredTransactions().slice(t,e)});currentSaving=f({});historyService=T(V);savingService=T(we);savingTransactionService=T(k);activatedRoute=T(R);router=T(G);savingId=f(1);remainingAmount=f(0);currentAmount=f(0);dateStarted=f(new Date);isLoading=f(!0);selectedTransactionId=f(0);toastMessage=f("");toastType=f("success");constructor(){pe(()=>{this.filteredTransactions(),this.currentPage.set(1)})}ngOnInit(){let t=this.activatedRoute.snapshot.paramMap.get("id")??"";if(this.savingId.set(+t),!t||isNaN(+t)){this.router.navigate(["/savings"]);return}let e=history.state;if(e?.toastMessage){this.toastMessage.set(e.toastMessage),this.toastType.set(e.toastType??"success");let n=I.getOrCreateInstance(this.viewSavingToast.nativeElement);n.show(),setTimeout(()=>{n.hide()},3e3),history.replaceState({},"",this.router.url)}this.refreshCurrentAmount(),this.getSavingsTransactionHistories()}getDuration(t,e){if(!t||!e)return 0;let n=new Date(t),s=new Date(e);if(isNaN(n.getTime())||isNaN(s.getTime()))return 0;let d=Math.abs(s.getTime()-n.getTime());return Math.ceil(d/(1e3*60*60*24))}getDailySavingsNeeded(){let t=this.currentSaving(),e=this.remainingAmount(),n=t.created_at,s=t.goal_date,d=this.getDuration(n,s);return d<=0?0:Math.ceil(e/d)}getWeeklySavingsNeeded(){let t=this.currentSaving(),e=this.remainingAmount(),n=t.created_at,s=t.goal_date,d=this.getDuration(n,s);return d<=0?0:Math.ceil(e/(d/7))}getMonthlySavingsNeeded(){let t=this.currentSaving(),e=this.remainingAmount(),n=t.created_at,s=t.goal_date,d=this.getDuration(n,s);return d<=0?0:Math.ceil(e/(d/30))}updateRemainingAmount(){let t=this.currentSaving(),e=Number(t.current_amount??0),n=Number(t.target_amount??0);this.remainingAmount.set(n-e)}getProgressPercentage(t){let e=Number(t.target_amount??0),n=Number(t.current_amount??0);return!e||e<=0?0:Math.min(Math.round(n/e*100),100)}getSavingsTransactionHistories(){this.savingTransactionService.getSavingTransactionById(this.savingId()).subscribe({next:t=>{this.allTransactions.set(t)}})}getSavingsData(){let t=this.savingId();t&&this.savingService.getSavingById(t).subscribe({next:e=>{this.currentSaving.set(e),this.dateStarted.set(new Date(e.created_at)),this.currentAmount.set(Number(e.current_amount??0)),this.updateRemainingAmount(),this.isLoading.set(!1)},error:e=>{this.isLoading.set(!1),console.error("Error fetching saving data:",e)}})}deleteSaving(){this.savingService.deleteSaving(this.savingId()).subscribe({next:()=>{this.closeDeleteModal(),this.router.navigate(["/savings"],{state:{toastMessage:"Saving deleted successfully!",toastType:"success"}})},error:t=>{console.error("Error deleting saving:",t),this.closeDeleteModal(),this.router.navigate(["/savings"],{state:{toastMessage:"Error deleting saving. Please try again.",toastType:"error"}})}})}deleteSavingsTransaction(){this.savingTransactionService.deleteSavingTransaction(this.savingId(),this.selectedTransactionId()).subscribe({next:()=>{this.allTransactions.update(e=>e.filter(n=>n.id!==this.selectedTransactionId())),this.closeDeleteTransactionModal(),this.refreshCurrentAmount(),this.toastMessage.set("Transaction deleted successfully!"),this.toastType.set("success");let t=I.getOrCreateInstance(this.viewSavingToast.nativeElement);t.show(),setTimeout(()=>t.hide(),3e3)},error:t=>{console.error("Failed to delete transaction",t),this.toastMessage.set("Failed to delete transaction. Please try again."),this.toastType.set("error");let e=I.getOrCreateInstance(this.viewSavingToast.nativeElement);e.show(),setTimeout(()=>e.hide(),3e3)}})}onSavingsTransactionAdded(t){this.allTransactions.update(n=>[...n,t]),this.refreshCurrentAmount(),this.toastMessage.set("Transaction added successfully!"),this.toastType.set("success");let e=I.getOrCreateInstance(this.viewSavingToast.nativeElement);e.show(),setTimeout(()=>e.hide(),3e3)}onSavingsTransactionUpdated(t){this.allTransactions.update(n=>n.map(s=>s.id===t.id?t:s)),this.refreshCurrentAmount(),this.toastMessage.set("Transaction updated successfully!"),this.toastType.set("success");let e=I.getOrCreateInstance(this.viewSavingToast.nativeElement);e.show(),setTimeout(()=>e.hide(),3e3)}refreshCurrentAmount(){this.savingService.refreshCurrentAmount(this.savingId()).subscribe({next:t=>{this.getSavingsData()},error:t=>{console.error("Failed to refresh current amount",t)}})}goToPage(t){t<1||t>this.pageCount()||this.currentPage.set(t)}nextPage(){this.goToPage(this.currentPage()+1)}prevPage(){this.goToPage(this.currentPage()-1)}openDeleteModal(){new y(this.deleteSavingModal.nativeElement).show()}closeDeleteModal(){y.getInstance(this.deleteSavingModal.nativeElement)?.hide(),this.deleteSavingModalBtn.nativeElement.focus()}openDeleteTransactionModal(t){new y(this.deleteSavingTransactionModal.nativeElement).show(),this.selectedTransactionId.set(t)}closeDeleteTransactionModal(){y.getInstance(this.deleteSavingTransactionModal.nativeElement)?.hide(),this.deleteTransactionBtn.nativeElement.focus()}isSavingComplete(){if(this.isLoading())return!1;let t=this.currentSaving(),e=Number(t.current_amount??0),n=Number(t.target_amount??0);return n<=0?!1:e>=n}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=F({type:o,selectors:[["app-view-saving"]],viewQuery:function(e,n){if(e&1&&(C(Ge,7),C(We,5),C(Ye,5),C(Je,5),C(Ke,5),C(Xe,5),C(Ze,5),C(et,5)),e&2){let s;M(s=w())&&(n.viewSavingToast=s.first),M(s=w())&&(n.deleteSavingModal=s.first),M(s=w())&&(n.deleteSavingModalBtn=s.first),M(s=w())&&(n.deleteSavingTransactionModal=s.first),M(s=w())&&(n.deleteTransactionBtn=s.first),M(s=w())&&(n.deleteSelectedTransactionsModal=s.first),M(s=w())&&(n.deleteSelectedTransactionsBtn=s.first),M(s=w())&&(n.updateTransactionModal=s.first)}},decls:111,vars:29,consts:[["deleteSavingModalBtn",""],["deleteSelectedTransactionsBtn",""],["updateTransactionModal",""],["deleteSavingModal",""],["deleteSavingTransactionModal",""],["deleteSelectedTransactionsModal",""],["viewSavingToast",""],["deleteTransactionBtn",""],[1,"saving-sub-header","bg-primary","text-white"],[1,"d-flex","align-items-center","gap-3"],["routerLink","/savings","title","Back to Savings",1,"bi","bi-arrow-left"],[1,"mb-0"],[1,"d-flex","flex-row","gap-2","justify-content-start"],["type","button","title","Edit Saving",1,"btn","btn-sm","btn-warning","bg-transparent","text-white","border","border-0",3,"routerLink"],[1,"bi","bi-pencil"],["type","button","title","Delete Saving",1,"btn","btn-sm","btn-danger","bg-transparent","text-white","border","border-0",3,"click"],[1,"bi","bi-trash-fill"],[1,"loading-spinner-container"],[1,"card"],[1,"bi","bi-check-circle-fill","fs-5"],[1,"badge","bg-success","ms-1"],[1,"card-body","d-flex","flex-column"],[1,"mt-5"],[1,"history-container"],[1,"header-container"],[1,"title"],[1,"fw-bold","text-secondary","fs-4"],["type","text","placeholder","Search transaction",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"action-container"],[3,"addedTransaction","transactionsLength","isDisabled"],["type","button",1,"btn","btn-sm","btn-secondary","mx-2",3,"click","disabled"],["type","button",3,"click","disabled"],[1,"bi","bi-trash"],[1,"alert","alert-info","d-flex","align-items-center","gap-2"],[1,"table-container"],[1,"table","placeholder-glow"],[1,"table"],["aria-label","pagination",1,"d-flex","justify-content-between","align-items-center","px-2","m-4"],[1,"list-container"],[3,"updatedTransaction"],[1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"toast-container"],[1,"toast","align-items-center","border-0"],[1,"d-flex","justify-content-between"],["role","alert",1,"toast-body"],[1,"fas","fa-check-circle",3,"ngClass"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close","btn-close-white","me-2","m-auto"],["role","status",1,"spinner-border","text-primary"],[1,"information-container","w-100","placeholder-glow","row","g-3","mb-4"],[1,"info","col-md-3","col-6"],[1,"placeholder","col-6","mb-1"],[1,"placeholder","col-10","btn-lg"],[1,"placeholder-glow","mb-4"],[1,"placeholder","col-12","placeholder-style-sm"],[1,"information-container","first"],[1,"mh-3","info"],[1,"text-secondary"],[1,"mh-3","info","second"],[1,"mh-3","info","third"],[1,"mh-3","info","fourth"],[1,"text-danger"],[1,"app-saving-progress-container"],["showType","hide-text",3,"progressPercentage"],[1,"info-cards"],[1,"mb-0","alert","alert-dark","info-card"],[1,"bi","bi-file-earmark-text","m-1"],[1,"text-dark-emphasis","mb-1"],[1,"mb-0","alert","alert-primary","info-card"],[1,"bi","bi-calendar-week","m-1"],[1,"text-primary-emphasis","mb-1"],[1,"mb-0","alert","alert-info","info-card"],[1,"text-info-emphasis","mb-1"],[1,"mb-0","alert","alert-warning","info-card"],[1,"bi","bi-calendar2-check","m-1"],[1,"text-warning-emphasis","mb-1"],[1,"bi","bi-cash-coin","m-1"],[1,"bi","bi-info-circle-fill","fs-5"],[1,"table-dark"],[1,"placeholder","col-6"],[1,"placeholder","col-4"],[1,"placeholder","col-5"],[1,"placeholder","col-8"],[1,"placeholder","col-7"],["colspan","5",1,"text-center","py-5","text-muted"],[1,"d-flex","flex-column","align-items-center"],[1,"bi","bi-receipt","fs-1","mb-2","text-secondary-emphasis","opacity-50"],[1,"text-success"],[1,"text-secondary-emphasis"],[1,"d-flex","gap-1","justify-content-center","actions"],["type","button","title","Edit",1,"btn","btn-sm","btn-warning",3,"click","disabled"],["type","button","title","Delete",1,"btn","btn-sm","btn-danger",3,"click","disabled"],["type","checkbox",1,"form-check-input",3,"change","value","checked"],[1,"bi","bi-arrow-up-circle-fill"],[1,"bi","bi-arrow-down-circle-fill"],[1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"mx-2"],[1,"text-center","text-secondary-emphasis","mt-3"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-2","w-100"],[1,"d-flex","justify-content-center","align-items-center"],[1,"card-title","mb-0"],[1,"bi","bi-three-dots-vertical",3,"click"],[1,"text-secondary-emphasis","mb-0"],[1,"money-container"],[1,"text-success","fw-bold","mb-0"],[1,"text-danger","fw-bold","mb-0"],[1,"text-secondary","fw-bold","mb-0"]],template:function(e,n){if(e&1){let s=E();m(0,"app-toggleable-sidebar")(1,"app-header"),i(2,"div",8)(3,"div",9),m(4,"i",10),i(5,"span",11),r(6,"Back to Savings"),a()(),i(7,"div",12)(8,"button",13),m(9,"i",14),a(),i(10,"button",15,0),p("click",function(){return g(s),u(n.openDeleteModal())}),m(12,"i",16),a()()(),i(13,"main"),_(14,ot,2,0,"div",17),i(15,"div",18)(16,"div"),m(17,"i",19),i(18,"div")(19,"strong"),r(20,"Congratulations!"),a(),r(21," You have reached your saving goal. "),i(22,"span",20),r(23,"Completed"),a()()(),i(24,"div")(25,"h5",11),r(26),a()(),i(27,"div",21),_(28,rt,15,0)(29,vt,50,24),a()(),i(30,"div",22)(31,"div",23)(32,"div",24)(33,"div",25)(34,"span",26),r(35,"History"),a()(),i(36,"div")(37,"input",27),p("ngModelChange",function(b){return g(s),u(n.searchTransactionQuery.set(b))}),a()(),i(38,"div",28)(39,"app-add-saving-transaction",29),p("addedTransaction",function(b){return g(s),u(n.onSavingsTransactionAdded(b))}),a(),i(40,"button",30),p("click",function(){return g(s),u(n.toggleSelectMode())}),r(41),a(),i(42,"button",31,1),p("click",function(){return g(s),u(n.openDeleteSelectedModal())}),m(44,"i",32),r(45),a()()(),_(46,ft,4,0,"div",33),i(47,"div",34),_(48,St,16,1,"table",35)(49,Et,16,2,"table",36),a(),_(50,Ot,7,4,"nav",37),i(51,"div",38),_(52,Pt,3,0,"ol"),i(53,"ol"),_(54,Ft,2,0),a()()()(),i(55,"app-update-saving-transaction",39,2),p("updatedTransaction",function(b){return g(s),u(n.onSavingsTransactionUpdated(b))}),a(),i(57,"div",40,3)(59,"div",41)(60,"div",42)(61,"div",43)(62,"h5",44),r(63,"Confirm Delete"),a(),i(64,"button",45),p("click",function(){return g(s),u(n.closeDeleteModal())}),a()(),i(65,"div",46),r(66," Are you sure you want to delete this saving? "),a(),i(67,"div",47)(68,"button",48),p("click",function(){return g(s),u(n.closeDeleteModal())}),r(69,"Cancel"),a(),i(70,"button",49),p("click",function(){return g(s),u(n.deleteSaving())}),r(71," Delete "),a()()()()(),i(72,"div",40,4)(74,"div",41)(75,"div",42)(76,"div",43)(77,"h5",44),r(78,"Confirm Delete"),a(),i(79,"button",45),p("click",function(){return g(s),u(n.closeDeleteTransactionModal())}),a()(),i(80,"div",46),r(81," Are you sure you want to delete this saving transaction? "),a(),i(82,"div",47)(83,"button",48),p("click",function(){return g(s),u(n.closeDeleteTransactionModal())}),r(84,"Cancel"),a(),i(85,"button",49),p("click",function(){return g(s),u(n.deleteSavingsTransaction())}),r(86," Delete "),a()()()()(),i(87,"div",40,5)(89,"div",41)(90,"div",42)(91,"div",43)(92,"h5",44),r(93,"Confirm Delete Selected"),a(),i(94,"button",45),p("click",function(){return g(s),u(n.closeDeleteSelectedModal())}),a()(),i(95,"div",46),r(96," Are you sure you want to delete the selected saving transactions? "),a(),i(97,"div",47)(98,"button",48),p("click",function(){return g(s),u(n.closeDeleteSelectedModal())}),r(99,"Cancel"),a(),i(100,"button",49),p("click",function(){return g(s),u(n.confirmDeleteSelectedTransactions())}),r(101," Delete Selected "),a()()()()(),i(102,"div",50)(103,"div",51,6)(105,"div",52)(106,"div",53),m(107,"i",54),i(108,"span"),r(109),a()(),m(110,"button",55),a()()()()}e&2&&(l(8),S("routerLink",ge(24,tt,n.savingId())),l(6),v(n.isLoading()?14:-1),l(2),$("alert alert-success shadow-sm border-success d-flex align-items-center gap-2"+(n.isSavingComplete()?"":" d-none")),l(8),$("card-header "+(n.currentSaving().header_color||"bg-dark")+" text-white d-flex align-items-center gap-3"),l(2),L(n.currentSaving().name),l(2),v(n.isLoading()?28:29),l(9),S("ngModel",n.searchTransactionQuery()),l(2),S("transactionsLength",n.transactionsCount())("isDisabled",n.isSavingComplete()),l(),S("disabled",n.isSavingComplete()||n.transactionsCount()===0),l(),h(" ",n.isSelectMode()?"Cancel Select":"Select Transactions"," "),l(),$("btn btn-sm btn-danger "+(n.isSelectMode()?"":"hide")),S("disabled",n.selectedTransactionIds().length===0||n.isSavingComplete()),l(3),h(" Delete Selected (",n.selectedTransactionIds().length,") "),l(),v(n.isSelectMode()?46:-1),l(2),v(n.isLoading()?48:49),l(2),v(n.pageCount()>1?50:-1),l(2),v(n.filteredTransactions().length===0?52:-1),l(2),v(n.filteredTransactions().length>0?54:-1),l(53),S("ngClass",ue(26,nt,n.toastType()==="success",n.toastType()==="error")),l(2),L(n.toastMessage()))},dependencies:[Ce,be,se,le,ye,he,_e,xe,U,q,Te,Me,fe,ve],styles:['@keyframes _ngcontent-%COMP%_fadeSlideIn{0%{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}.hide[_ngcontent-%COMP%]{display:none!important}main[_ngcontent-%COMP%]{margin-left:80px;background-color:#f9fafb;padding:40px;height:100%;margin-top:70px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:20px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:2em;align-items:center;padding:20px;height:auto;max-height:330px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:400;margin-bottom:0}.history-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:2em;margin-bottom:20px}.header-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2)   .form-control[_ngcontent-%COMP%]{border:1px solid grey}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-cards[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}.info-card[_ngcontent-%COMP%]{width:13.8rem;max-width:13.8rem}.app-saving-progress-container[_ngcontent-%COMP%]{width:100%}.information-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:5em}.bi[_ngcontent-%COMP%]   .bi-arrow-left[_ngcontent-%COMP%]{font-size:1.6rem;cursor:pointer}.bi[_ngcontent-%COMP%]   .bi-arrow-left[_ngcontent-%COMP%]:hover{color:#ccc;transition:color .3s ease-in-out}.saving-sub-header[_ngcontent-%COMP%]{position:relative;top:70px;display:flex;justify-content:space-between;align-items:center;padding:15px;margin-left:80px}.saving-sub-header[_ngcontent-%COMP%]   i.bi-arrow-left[_ngcontent-%COMP%]{font-size:1.8rem;cursor:pointer}.saving-sub-header[_ngcontent-%COMP%]   i.bi-arrow-left[_ngcontent-%COMP%]:hover{color:#ccc;transition:color .3s ease-in-out}.saving-sub-header[_ngcontent-%COMP%]   i.bi-pencil[_ngcontent-%COMP%]{font-size:1.2rem;cursor:pointer}.saving-sub-header[_ngcontent-%COMP%]   i.bi-pencil[_ngcontent-%COMP%]:hover{color:#ccc;transition:color .3s ease-in-out}.saving-sub-header[_ngcontent-%COMP%]   i.bi-trash-fill[_ngcontent-%COMP%]{font-size:1.2rem;cursor:pointer}.saving-sub-header[_ngcontent-%COMP%]   i.bi-trash-fill[_ngcontent-%COMP%]:hover{color:#ccc;transition:color .3s ease-in-out}.table-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto 3px;overflow-x:auto}.table[_ngcontent-%COMP%]{box-shadow:0 4px 16px #00000021;border-radius:12px;overflow:hidden;width:100%;min-width:900px;background:#fff;font-size:1.08rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1.1rem 1.5rem!important}th[_ngcontent-%COMP%]{font-size:1.1rem}.action-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:10px}.action-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px}.bg-yellow[_ngcontent-%COMP%]{background-color:#ffc000!important}.form-check-input[_ngcontent-%COMP%]{width:1.2rem;height:1.2rem;border:1px solid #2563eb}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#2563eb;border-color:#2563eb}.placeholder-style-sm[_ngcontent-%COMP%]{height:20px;border-radius:8px}.placeholder-style[_ngcontent-%COMP%]{height:100px;border-radius:10px}@media (max-width: 1200px){.table-container[_ngcontent-%COMP%]{max-width:100%}.table[_ngcontent-%COMP%]{min-width:700px;font-size:1rem}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9rem;padding:5px 10px}th[_ngcontent-%COMP%]{font-weight:600}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:background-color .3s ease-in-out}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover > *[_ngcontent-%COMP%]{background-color:#e1e1e1!important;cursor:pointer}}.toast-container[_ngcontent-%COMP%]{position:fixed;top:500px;right:15px;z-index:9999;padding:10px;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.toast-body[_ngcontent-%COMP%]   i.fa-check-circle[_ngcontent-%COMP%]{color:#4caf50;font-size:1.2rem;margin-right:5px}.toast-body[_ngcontent-%COMP%]   i.bi-x-circle-fill[_ngcontent-%COMP%]{color:#f44336}.toast-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}.toast-container.hide[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideOut .5s ease-in forwards}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideOut{0%{transform:translate(0);opacity:1}to{transform:translate(100%);opacity:0}}@media (max-width: 768px){main[_ngcontent-%COMP%]{margin-left:0;padding:10px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{flex-direction:column;gap:1em}.header-container[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:10px}.actions[_ngcontent-%COMP%]{flex-direction:row;gap:10px}.info-card[_ngcontent-%COMP%]{width:100%;max-width:100%}.list-container[_ngcontent-%COMP%]{display:none}.table-container[_ngcontent-%COMP%]{display:block}.saving-sub-header[_ngcontent-%COMP%]{margin-left:0;padding:10px}}@media (max-width: 1024px){.information-container[_ngcontent-%COMP%]{gap:3em}.info-cards[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.card-body[_ngcontent-%COMP%]{height:auto;max-height:none!important}.list-container[_ngcontent-%COMP%]{display:none}.table-container[_ngcontent-%COMP%]{display:block}}@media (min-width: 1025px){.list-container[_ngcontent-%COMP%]{display:none}.table-container[_ngcontent-%COMP%]{display:block}}@media (min-width: 320px) and (max-width: 480px){main[_ngcontent-%COMP%]{margin-left:0;padding:10px;height:auto}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{flex-direction:column;gap:.5em;height:auto;max-height:none}.info-cards[_ngcontent-%COMP%]{flex-direction:column;gap:1em}.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:2em}.first[_ngcontent-%COMP%]{grid-area:first}.second[_ngcontent-%COMP%]{grid-area:second}.third[_ngcontent-%COMP%]{grid-area:third}.fourth[_ngcontent-%COMP%]{grid-area:fourth}.information-container[_ngcontent-%COMP%]{display:grid;grid-template-areas:"first second" "third fourth"}.list-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:column;gap:10px!important;padding:0!important;height:auto!important}.list-container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{justify-content:start;align-items:start;flex-direction:column!important}.list-container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){display:flex;flex-direction:row;gap:5px}li.card[_ngcontent-%COMP%]{margin-top:10px!important;margin-bottom:10px!important;border-bottom:1px solid #ddd}.table-container[_ngcontent-%COMP%]{display:none!important}ol[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none}.money-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;width:100%;gap:5px}.header-container[_ngcontent-%COMP%]{display:flex;width:100%!important;flex-direction:column!important;justify-content:center!important;align-items:center;margin:0!important}.header-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){width:100%!important}.header-container[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px}.header-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.actions-dropdown[_ngcontent-%COMP%]{width:25%;height:95px;display:flex;flex-direction:column;justify-content:center;align-items:center;border:1px solid grey;border-radius:10px;position:absolute;top:40px;right:20px;background-color:#fff;z-index:700}.actions-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;text-align:start;background-color:transparent;border:none;color:inherit;font:inherit;transition:all .3s ease-in-out}.actions-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.actions-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){color:#f44336}.actions-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2):hover{background-color:#ffe6e6}}']})};export{Pe as ViewSaving};
