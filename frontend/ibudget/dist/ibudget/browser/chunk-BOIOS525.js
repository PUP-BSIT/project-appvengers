import{c as F}from"./chunk-NYHJAWNZ.js";import{a as E,b as P,c as k,d as N,g as z,i as T,j as D,q as I,s as V}from"./chunk-R4J5TFSL.js";import"./chunk-H4HKKKHV.js";import{B as y,C as S,h as v}from"./chunk-OQ6H4KVU.js";import{$a as w,Cb as C,Fb as b,Gb as l,La as a,Nb as M,Pb as i,Qb as h,Rb as O,Wa as p,Z as u,_,ha as m,nb as d,ob as c,tb as x,ub as o,vb as n,wb as s}from"./chunk-DFJZCQ6A.js";import"./chunk-DAQOROHW.js";function B(e,r){if(e&1&&(o(0,"div",12),i(1),n()),e&2){let t=l(2);a(),h(t.errorMessage())}}function G(e,r){e&1&&(o(0,"div",19),i(1," Email is required "),n())}function L(e,r){e&1&&(o(0,"div",19),i(1," Please enter a valid email address "),n())}function R(e,r){e&1&&(s(0,"span",23),i(1," Sending... "))}function j(e,r){e&1&&i(0," Send Reset Link ")}function q(e,r){if(e&1){let t=C();o(0,"form",11),b("ngSubmit",function(){u(t);let f=l();return _(f.onSubmit())}),d(1,B,2,1,"div",12),o(2,"div",13)(3,"label",14),i(4,"Email Address"),n(),o(5,"div",15),s(6,"input",16),o(7,"span",17),s(8,"i",18),n()(),d(9,G,2,0,"div",19),d(10,L,2,0,"div",19),n(),o(11,"button",20),d(12,R,2,0)(13,j,1,0),n(),o(14,"div",4)(15,"a",21),s(16,"i",22),i(17," Back to Login "),n()()()}if(e&2){let t=l();x("formGroup",t.forgotPasswordForm),a(),c(t.errorMessage()?1:-1),a(5),M("is-invalid",(t.email==null?null:t.email.invalid)&&(t.email==null?null:t.email.touched)),a(3),c(t.email!=null&&t.email.hasError("required")&&(t.email!=null&&t.email.touched)?9:-1),a(),c(t.email!=null&&t.email.hasError("email")&&(t.email!=null&&t.email.touched)?10:-1),a(),x("disabled",t.loading()||t.forgotPasswordForm.invalid),a(),c(t.loading()?12:13)}}function Y(e,r){if(e&1){let t=C();o(0,"div",10)(1,"div",24),s(2,"i",25),n(),o(3,"h5",13),i(4,"Check Your Email"),n(),o(5,"p",26),i(6),n(),o(7,"p",27),i(8," If you don't see the email, check your spam folder or try again. "),n(),o(9,"button",28),b("click",function(){u(t);let f=l();return _(f.submitted.set(!1))}),i(10," Send Another Link "),n(),o(11,"div",4)(12,"a",21),s(13,"i",22),i(14," Back to Login "),n()()()}if(e&2){let t=l();a(6),O(" ",t.successMessage()," ")}}var A=class e{constructor(r,t,g){this.fb=r;this.authService=t;this.router=g;this.forgotPasswordForm=this.fb.group({email:["",[P.required,P.email]]})}forgotPasswordForm;submitted=m(!1);loading=m(!1);errorMessage=m("");successMessage=m("");get email(){return this.forgotPasswordForm.get("email")}onSubmit(){this.forgotPasswordForm.invalid||(this.loading.set(!0),this.errorMessage.set(""),this.successMessage.set(""),this.authService.forgotPassword(this.forgotPasswordForm.value).subscribe({next:r=>{this.loading.set(!1),r.success?(this.submitted.set(!0),this.successMessage.set(r.message)):this.errorMessage.set(r.message)},error:r=>{this.loading.set(!1),this.errorMessage.set(r.error?.message||"An error occurred. Please try again.")}}))}static \u0275fac=function(t){return new(t||e)(p(I),p(F),p(y))};static \u0275cmp=w({type:e,selectors:[["app-forgot-password"]],decls:13,vars:1,consts:[[1,"forgot-password-container"],[1,"card","forgot-password-card"],[1,"card-body"],[1,"forgot-password-header","text-center","mb-4"],[1,"text-center"],[1,"fw-bold","custom-title"],["src","assets/images/coin.png","alt","iBudget Logo"],[1,"mt-3"],[1,"text-muted"],[1,"forgot-password-form",3,"formGroup"],[1,"success-container","text-center"],[1,"forgot-password-form",3,"ngSubmit","formGroup"],[1,"alert","alert-danger"],[1,"mb-3"],["for","email",1,"form-label"],[1,"input-group"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],[1,"input-group-text"],[1,"bi","bi-envelope"],[1,"text-danger","small","mt-1"],["type","submit",1,"btn","btn-primary","w-100","mb-3",3,"disabled"],["routerLink","/auth-page",1,"text-decoration-none"],[1,"bi","bi-arrow-left","me-1"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"],[1,"success-icon","mb-3"],[1,"bi","bi-check-circle-fill","text-success",2,"font-size","4rem"],[1,"text-muted","mb-4"],[1,"text-muted","small","mb-4"],["type","button",1,"btn","btn-outline-primary","w-100","mb-3",3,"click"]],template:function(t,g){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),s(6,"img",6),n()(),o(7,"h4",7),i(8,"Forgot Password?"),n(),o(9,"p",8),i(10," No worries! Enter your email address and we'll send you a link to reset your password. "),n()(),d(11,q,18,8,"form",9)(12,Y,15,1,"div",10),n()()()),t&2&&(a(11),c(g.submitted()?12:11))},dependencies:[v,V,z,E,k,N,T,D,S],styles:[".forgot-password-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:#2d5a87;padding:20px}.forgot-password-card[_ngcontent-%COMP%]{width:100%;max-width:450px;border:none;border-radius:15px;box-shadow:0 10px 40px #0003}.forgot-password-header[_ngcontent-%COMP%]   .custom-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}.forgot-password-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#0f172a;font-weight:600}.forgot-password-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.forgot-password-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:500;color:#4b5563;margin-bottom:.5rem}.forgot-password-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #d1d5db;border-right:none}.forgot-password-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:none}.forgot-password-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.forgot-password-form[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background-color:#f9fafb;border:1px solid #d1d5db;border-left:none;color:#6b7280}.forgot-password-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#3b82f6;border:none;padding:.75rem;font-weight:600;border-radius:8px;transition:all .3s ease}.forgot-password-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #3b82f680;background:#2563eb}.forgot-password-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.success-container[_ngcontent-%COMP%]{padding:2rem 0}.success-container[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleIn .3s ease-out}.success-container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#0f172a;font-weight:600}.success-container[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{border:2px solid #3B82F6;color:#3b82f6;font-weight:600;padding:.75rem;border-radius:8px;transition:all .3s ease}.success-container[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #3b82f680}.alert-danger[_ngcontent-%COMP%]{border-radius:8px;font-size:14px}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}@media (max-width: 991px){.forgot-password-card[_ngcontent-%COMP%]{max-width:400px;padding:10px}}@media (max-width: 768px){.forgot-password-container[_ngcontent-%COMP%]{padding:15px}.forgot-password-card[_ngcontent-%COMP%]{max-width:380px;box-shadow:0 5px 20px #0000001a}}@media (max-width: 425px){.forgot-password-container[_ngcontent-%COMP%]{padding:12px}.forgot-password-card[_ngcontent-%COMP%]{max-width:100%;border-radius:12px}.forgot-password-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.forgot-password-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.forgot-password-header[_ngcontent-%COMP%]   .custom-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.forgot-password-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .forgot-password-form[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%], .forgot-password-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{padding:.65rem}}@media (max-width: 320px){.forgot-password-container[_ngcontent-%COMP%]{padding:10px}.card-body[_ngcontent-%COMP%]{padding:1rem}.forgot-password-header[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.forgot-password-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem}.forgot-password-header[_ngcontent-%COMP%]   .custom-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.forgot-password-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:13px}.forgot-password-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:14px}.forgot-password-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{font-size:14px;padding:.6rem}.success-container[_ngcontent-%COMP%]   .bi-check-circle-fill[_ngcontent-%COMP%]{font-size:3rem!important}.success-container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}}"]})};export{A as ForgotPassword};
