import{a as n}from"./chunk-H4HKKKHV.js";import{p}from"./chunk-OQ6H4KVU.js";import{J as d,P as s,T as o,n as r}from"./chunk-DFJZCQ6A.js";var u=class a{constructor(t){this.http=t}base=`${n.apiUrl}/transactions/budget-transactions`;getByBudgetId(t){return this.http.get(`${this.base}/budget/${t}`).pipe(r(e=>e.data||[]))}getById(t){return this.http.get(`${this.base}/${t}`).pipe(r(e=>e.data))}getBudgetSummary(t){let e=`${n.apiUrl}/transactions/budgets/${t}/summary`;return this.http.get(e).pipe(r(i=>i.data))}create(t){return this.http.post(this.base,t).pipe(r(e=>e.data))}update(t,e){return this.http.put(`${this.base}/${t}`,e).pipe(r(i=>i.data))}delete(t){return this.http.delete(`${this.base}/${t}`).pipe(r(()=>{}))}static \u0275fac=function(e){return new(e||a)(o(p))};static \u0275prov=s({token:a,factory:a.\u0275fac,providedIn:"root"})};var m=class a{constructor(t){this.http=t}baseUrl=`${n.apiUrl}/budgets`;toFrontend(t){return{id:t.budgetId,category_id:t.categoryId,category_name:t.categoryName,name:t.name,limit_amount:t.limitAmount,start_date:t.startDate,end_date:t.endDate,current_amount:0}}toBackend(t){return{categoryId:Number(t.category_id),name:String(t.name),limitAmount:Number(t.limit_amount),startDate:String(t.start_date),endDate:String(t.end_date)}}getBudgets(){return this.http.get(this.baseUrl).pipe(r(t=>t.map(this.toFrontend)))}getBudgetById(t){return this.http.get(`${this.baseUrl}/${t}`).pipe(r(this.toFrontend))}addBudget(t){let e=this.toBackend(t);return this.http.post(this.baseUrl,e).pipe(r(this.toFrontend))}updateBudget(t,e){let i=this.toBackend(e);return this.http.put(`${this.baseUrl}/${t}`,i).pipe(r(this.toFrontend))}deleteBudget(t){return this.http.delete(`${this.baseUrl}/${t}`).pipe(d(()=>this.getBudgets()))}searchBudgets(t){return this.http.get(`${this.baseUrl}/search`,{params:{query:t}}).pipe(r(e=>e.map(this.toFrontend)))}static \u0275fac=function(e){return new(e||a)(o(p))};static \u0275prov=s({token:a,factory:a.\u0275fac,providedIn:"root"})};export{m as a,u as b};
