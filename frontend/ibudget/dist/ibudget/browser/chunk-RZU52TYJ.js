import{a as n}from"./chunk-H4HKKKHV.js";import{p as u}from"./chunk-OQ6H4KVU.js";import{J as o,P as i,U as p,n as r}from"./chunk-DFJZCQ6A.js";var s=class a{apiUrl=`${n.apiUrl}/savings`;http=p(u);toFrontend(t){return{saving_id:t.savingId,name:t.name,goal_date:t.goalDate,frequency:t.frequency,target_amount:t.targetAmount,current_amount:t.currentAmount,description:t.description,header_color:t.headerColor,created_at:t.createdAt,updated_at:t.updatedAt,deleted_at:t.deletedAt}}toBackend(t){return{name:t.name,goalDate:t.goal_date,frequency:t.frequency,targetAmount:typeof t.target_amount=="string"?Number(t.target_amount):t.target_amount,currentAmount:typeof t.current_amount=="string"?Number(t.current_amount):t.current_amount,description:t.description,headerColor:t.header_color||"bg-dark"}}getSavings(){return this.http.get(this.apiUrl).pipe(r(t=>t.map(this.toFrontend)))}getSavingById(t){return this.http.get(`${this.apiUrl}/${t}`).pipe(r(this.toFrontend))}addSaving(t){let e=this.toBackend(t);return n.production||console.log("Adding Saving with payload:",e),this.http.post(this.apiUrl,e).pipe(r(this.toFrontend))}updateSaving(t,e){let d=this.toBackend(e);return this.http.put(`${this.apiUrl}/${t}`,d).pipe(r(this.toFrontend))}deleteSaving(t){return this.http.delete(`${this.apiUrl}/${t}`).pipe(o(()=>this.getSavings()))}refreshCurrentAmount(t){return this.http.get(`${this.apiUrl}/${t}/refresh-current-amount`)}static \u0275fac=function(e){return new(e||a)};static \u0275prov=i({token:a,factory:a.\u0275fac,providedIn:"root"})};export{s as a};
