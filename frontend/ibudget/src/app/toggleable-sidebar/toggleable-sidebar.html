<nav [ngClass]="'sidebar-container ' + 
  getSidebarType() + 
  ' ' + 
  (getToggleState() ? 'open' : 'closed')" 
  [class.expanded]="isExpanded">
  <!-- Coin Image here -->
  <!-- <div class="image-container">
    <img 
      src="../../assets/images/ibudget_coin_icon.png" 
      alt="Coin Image" />
  </div> -->

  <div class="sidebar-inner-container">
    <!-- Nav Items -->
    <div class="nav-item" routerLink="/dashboard" routerLinkActive="active">
      <i class="bi bi-house"></i>
      <span>Dashboard</span>
    </div>

    <div class="nav-item" routerLink="/transactions" routerLinkActive="active">
      <i class="bi bi-receipt-cutoff"></i>
      <span>Transactions</span>
    </div>

    <div class="nav-item" routerLink="/budgets" routerLinkActive="active">
      <i class="bi bi-wallet2"></i>
      <span>Budgets</span>
    </div>

    <div class="nav-item" routerLink="/savings" routerLinkActive="active">
      <i class="bi bi-piggy-bank"></i>
      <span>Savings</span>
    </div>

    <div class="nav-item" routerLink="/categories" routerLinkActive="active">
      <i class="bi bi-tags"></i>
      <span>Categories</span>
    </div>

    <div class="nav-item" routerLink="/reports" routerLinkActive="active">
      <i class="bi bi-bar-chart-line"></i>
      <span>Reports</span>
    </div>
  </div>
</nav>

@if(getSidebarType() === 'expandable') {
  <!-- Toggle Button -->
<div class="toggle-button-container">
  <button 
    type="button" 
    class="btn btn-light toggle-button"
    (click)="toggle()"
    [attr.aria-expanded]="isExpanded"
    [attr.title]="isExpanded ? 'Collapse Sidebar' : 'Expand Sidebar'">
      <i 
        [ngClass]="isExpanded ? 
        'bi bi-arrow-bar-left' : 
        'bi bi-arrow-bar-right'"></i>
  </button>
</div>
}


<!-- Sidebar Control -->
<div class="sidebar-control">
  <button 
    type="button"
    class="btn btn-light sidebar-control-button"
    title="Sidebar Control"
    (click)="toggleSidebarControl()">

    @if(getSidebarType() === 'collapsable') {
      <i class="bi bi-layout-sidebar-inset-reverse"></i>
    } @else {
      <i class="bi bi-layout-sidebar-inset"></i>
    }

  </button>
</div>

<!-- Sidebar Control Dropdown -->
<ul [class]="'sidebar-control-dropdown' + (isSidebarControlOpen() ? '' : ' hide')">
  <li (click)="setSidebarType('collapsable')">Collapsable</li>
  <li (click)="setSidebarType('expandable')">Expandable</li>
</ul>

@if (getToggleState()) {
  <div class="mobile-overlay" (click)="closeSidebarOnMobile()"></div>
}